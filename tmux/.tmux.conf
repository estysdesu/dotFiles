#### SHELL #####
set-option -g default-shell ${SHELL}

##### MISC #####
setw -g mouse on # mouse on
setw -g mode-keys vi # vim movements
set -g default-terminal "xterm-256color" # colors
set -g history-file ~/.bash_history

##### STATSUS BAR #####
set -g status-justify centre # show running process in the center
set -g status-interval 15 # refresh every 15s
set -g status-bg colour6 # soft blue
set -g status-fg colour16 # black

set -g status-right-length 60
set -g status-right "%y/%m/%d %H:%M "
set -g status-left-length 60
set -g status-left "S: #S, W: #I, P: #P"

##### WINDOW #####
# notifications of activity for other windows
setw -g monitor-activity on
set -g visual-activity on

# set active pane color
set -g pane-active-border-style "fg=colour6"
set -g pane-border-style "fg=colour7"

##### KEY BINDINGS #####
# pseudo rebind to tell panes to have same dir as previous pane
bind '"' split-window -h -c '#{pane_current_path}'
bind '%' split-window -v -c '#{pane_current_path}'
bind 'c' new-window -c "#{pane_current_path}"

# reload config
bind r source-file ~/.tmux.conf \; display-message "Config reloaded..."

# move around panes with hjkl, as one would in vim after pressing ctrl + w
bind h select-pane -L
bind j select-pane -D
bind k select-pane -U
bind l select-pane -R

##### TPM #####
set -g @plugin 'tmux-plugins/tpm'

set -g @plugin 'tmux-plugins/tmux-yank' # copy to sys clipboard

set -g @plugin 'tmux-plugins/tmux-resurrect' # auto restore on restart
set -g @plugin 'tmux-plugins/tmux-continuum' # auto save and restore
set -g @continuum-restore 'off'
set -g @continuum-save-interval '5'

set -g @plugin 'tmux-plugins/tmux-sidebar' # side tree
set -g @sidebar-tree-width '40' # width
set -g @sidebar-tree-command 'tree -aC -L 2'

run -b '~/.tmux/plugins/tpm/tpm'
